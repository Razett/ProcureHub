<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>조달 계획 목록</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
</head>
<body>
<div class="container mt-5">
    <h2 th:text="${title}">조달 계획 목록</h2>
    <div>
        <div class="table-responsive mt-4">
            <table class="table table-bordered table-hover">
                <thead>
                <tr>
                    <th>조달 계획 코드</th>
                    <th>조달 납기일</th>
                    <th>생산 계획 코드</th>
                    <th>생산 시작일</th>
                    <th>생산 제품 코드</th>
                    <th>생산 제품명</th>
                    <th>생산 제품 수량</th>
                    <th>자재 코드</th>
                    <th>자재명</th>
                    <th>자재 규격</th>
                    <th>자재 현 수량</th>
                    <th>조달 자재 수량</th>
                    <th>조달 상태</th>
                    <th>L/T</th>
                    <th>등록날짜</th>
                    <th>수정날짜</th>
                    <th>발주추가</th>
                </tr>
                </thead>
                <tbody>
                <!-- 레코드가 없을 때 표시 -->
                <tr th:if="${#lists.isEmpty(orderList)}">
                    <td colspan="17">No records found.</td>
                </tr>
                <!-- 레코드가 있을 때 각 항목 표시 -->
                <tr th:each="order : ${orderList}">
                    <td th:text="${order.prcrno}"></td>
                    <td th:text="${#temporals.format(order.reqdate, 'yyyy-MM-dd HH:mm:ss')}"></td>
                    <td th:text="${order.prdcPlanNo}"></td> <!-- 필드 이름 수정 -->
                    <td th:text="${#temporals.format(order.startdate, 'yyyy-MM-dd HH:mm:ss')}"></td>
                    <td th:text="${order.prdcno}"></td>
                    <td th:text="${order.productName}"></td> <!-- 필드 이름 수정 -->
                    <td th:text="${order.productQuantity}"></td> <!-- 필드 이름 수정 -->
                    <td th:text="${order.mtrlno}"></td>
                    <td th:text="${order.materialName}"></td> <!-- 필드 이름 수정 -->
                    <td th:text="${order.standard}"></td> <!-- materialStandard 대신 standard로 변경 -->
                    <td th:text="${order.materialQuantity}"></td> <!-- 필드 이름 수정 -->
                    <td th:text="${order.materialProcurementQuantity}"></td> <!-- 필드 이름 수정 -->
                    <td th:text="${order.status}"></td>
                    <td></td>
                    <td th:text="${#temporals.format(order.regdate, 'yyyy-MM-dd HH:mm:ss')}"></td>
                    <td th:text="${#temporals.format(order.moddate, 'yyyy-MM-dd HH:mm:ss')}"></td>
                    <!-- 발주 추가 아이콘을 링크로 감싸서 클릭 가능하게 함 -->
                    <td><a th:href="@{'/order/add/' + ${order.prcrno}}"><i class="bi bi-file-earmark-plus"></i></a></td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
